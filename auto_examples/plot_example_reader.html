

<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Creating a Reader &mdash; ScopeReaders 0.0.0 documentation</title>
  

  
  <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="../_static/gallery.css" type="text/css" />
  <link rel="stylesheet" href="../_static/gallery-binder.css" type="text/css" />
  <link rel="stylesheet" href="../_static/gallery-dataframe.css" type="text/css" />

  
  
  
  

  
  <!--[if lt IE 9]>
    <script src="../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="../" src="../_static/documentation_options.js"></script>
        <script src="../_static/jquery.js"></script>
        <script src="../_static/underscore.js"></script>
        <script src="../_static/doctools.js"></script>
        <script src="../_static/language_data.js"></script>
    
    <script type="text/javascript" src="../_static/js/theme.js"></script>

    
    <link rel="author" title="About these documents" href="../about.html" />
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="Using a Reader" href="plot_dm3_reader.html" />
    <link rel="prev" title="Examples &amp; Tutorials" href="index.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="../index.html" class="icon icon-home" alt="Documentation Home"> ScopeReaders
          

          
          </a>

          
            
            
              <div class="version">
                0.0.0
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        
        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../about.html">ScopeReaders</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="index.html">Examples &amp; Tutorials</a><ul class="current">
<li class="toctree-l2 current"><a class="current reference internal" href="#">Creating a Reader</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#introduction">Introduction</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#recommended-pre-requisite-reading">Recommended pre-requisite reading</a></li>
<li class="toctree-l4"><a class="reference internal" href="#import-all-necessary-packages">Import all necessary packages</a></li>
<li class="toctree-l4"><a class="reference internal" href="#procure-the-raw-data-file">Procure the Raw Data file</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#extracting-data-and-metadata-from-proprietary-files">1. Extracting data and metadata from proprietary files</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#explore-the-raw-data-file">1.1 Explore the raw data file</a></li>
<li class="toctree-l4"><a class="reference internal" href="#read-the-contents-of-the-file">1.2 Read the contents of the file</a></li>
<li class="toctree-l4"><a class="reference internal" href="#extract-the-metadata">1.3 Extract the metadata</a></li>
<li class="toctree-l4"><a class="reference internal" href="#extract-parameters-that-define-dimensions">1.4 Extract parameters that define dimensions</a></li>
<li class="toctree-l4"><a class="reference internal" href="#extract-the-data">1.5 Extract the data</a></li>
<li class="toctree-l4"><a class="reference internal" href="#visualize-the-extracted-data">Visualize the extracted data</a></li>
<li class="toctree-l4"><a class="reference internal" href="#populating-the-dataset-object">2. Populating the <code class="docutils literal notranslate"><span class="pre">Dataset</span></code> object</a></li>
<li class="toctree-l4"><a class="reference internal" href="#more-information">More information</a></li>
<li class="toctree-l4"><a class="reference internal" href="#cleaning-up">Cleaning up</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="plot_dm3_reader.html">Using a Reader</a></li>
</ul>
</li>
</ul>

            
          
        </div>
        
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">ScopeReaders</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../index.html" class="icon icon-home"></a> &raquo;</li>
        
          <li><a href="index.html">Examples &amp; Tutorials</a> &raquo;</li>
        
      <li>Creating a Reader</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="../_sources/auto_examples/plot_example_reader.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="sphx-glr-download-link-note admonition note">
<p class="admonition-title">Note</p>
<p>Click <a class="reference internal" href="#sphx-glr-download-auto-examples-plot-example-reader-py"><span class="std std-ref">here</span></a>     to download the full example code</p>
</div>
<div class="sphx-glr-example-title section" id="creating-a-reader">
<span id="sphx-glr-auto-examples-plot-example-reader-py"></span><h1>Creating a Reader<a class="headerlink" href="#creating-a-reader" title="Permalink to this headline">¶</a></h1>
<p><strong>Suhas Somnath</strong></p>
<p>8/28/2020</p>
<p>This document illustrates an example of extracting data out of proprietary raw
data files, thereby describing how one would write a <code class="docutils literal notranslate"><span class="pre">sidpy.Reader</span></code> class.</p>
<p>The captured information would be populated into a / set of <code class="docutils literal notranslate"><span class="pre">sidpy.Dataset</span></code>
object(s) as appropriate.</p>
<div class="section" id="introduction">
<h2>Introduction<a class="headerlink" href="#introduction" title="Permalink to this headline">¶</a></h2>
<p>In most scientific disciplines, commercial instruments tend to write the data and metadata out into proprietary file
formats that significantly impede access to the data and metadata, thwart sharing of data and correlation of data from
multiple instruments, and complicate long-term archival, among other things. One of the data wrangling steps in science
is the extraction of the data and metadata out of the proprietary file formats and writing the information into files
that are easier to access, share, etc. The overwhelming part of this data wrangling effort is in investigating how to
extract the data and metadata into memory. Often, the data and parameters in these files are <strong>not</strong> straightforward to
access. In certain cases, additional / dedicated software packages are necessary to access the data while in many other
cases, it is possible to extract the necessary information from built-in <strong>numpy</strong> or similar python packages included
with <strong>anaconda</strong>. Once the information is accessible in the computer memory, such as in the
form of numpy arrays, scientists have a wide variety of tools to write the data out into files.</p>
<p>Simpler data such as images or single spectra can easily be written into plain text files. Simple or complex / large /
multidimensional data can certainly be stored as numpy data files. However, there are significant drawbacks to writing
data into non-standardized structures or file formats. First, while the structure of the data and metadata may be
intuitive for the original author of the data, that may not be the case for another researcher. Furthermore, such
formatting may change from a day-to-day basis. As a consequence, it becomes challenging to develop code that can accept
such data whose format keeps changing.</p>
<p>One solution to these challenges is to write the data out into standardized files such as <code class="docutils literal notranslate"><span class="pre">h5USID</span></code> files.
The USID model aims to make data access, storage, curation, etc. simply by storing the data along with all
relevant parameters in a single file (HDF5 for now).</p>
<p>The process of copying data from the original format to <strong>h5USID</strong> files is called
<strong>Translation</strong> and the classes available in pyUSID and children packages such as pycroscopy that perform these
operation are called <strong>Translators</strong>.</p>
<p>As we alluded to earlier, the process of developing a <code class="docutils literal notranslate"><span class="pre">sidpy.Reader</span></code> can be
broken down into two basic components:</p>
<ol class="arabic simple">
<li><p>Extracting data and metadata out of the proprietary file format</p></li>
<li><p>Populating one or more <code class="docutils literal notranslate"><span class="pre">sidpy.Dataset</span></code> objects as necessary</p></li>
</ol>
<p>This process is the same regardless of the origin, complexity, or size of the scientific data. It is not necessary that
the two components be disjoint - there are many situations where both components may need to happen simultaneously
especially when the data sizes are very large.</p>
<p>The goal of this document is to demonstrate how one would extract data and parameters from a Scanning Tunnelling
Spectroscopy (STS) raw data file obtained from an Omicron Scanning Tunneling Microscope (STM).
In this dataset, a spectra was collected for each position in a two-dimensional grid of spatial locations, thereby
resulting in a 3D dataset.</p>
<p>The code in this example is an abbreviation of the
<a class="reference external" href="https://github.com/pycroscopy/pycroscopy/blob/master/pycroscopy/io/translators/omicron_asc.py">AscTranslator</a>
available in our sister package - <cite>pycroscopy</cite>.</p>
<div class="section" id="recommended-pre-requisite-reading">
<h3>Recommended pre-requisite reading<a class="headerlink" href="#recommended-pre-requisite-reading" title="Permalink to this headline">¶</a></h3>
<p>Before proceeding with this example, we recommend learning about <code class="docutils literal notranslate"><span class="pre">Sidpy.Reader</span></code>:</p>
<div class="admonition tip">
<p class="admonition-title">Tip</p>
<p>You can download and run this document as a Jupyter notebook using the link at the bottom of this page.</p>
</div>
</div>
<div class="section" id="import-all-necessary-packages">
<h3>Import all necessary packages<a class="headerlink" href="#import-all-necessary-packages" title="Permalink to this headline">¶</a></h3>
<p>There are a few setup procedures that need to be followed before any code is written. In this step, we simply load a
few python packages that will be necessary in the later steps.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="c1"># Ensure python 3 compatibility:</span>
<span class="kn">from</span> <span class="nn">__future__</span> <span class="kn">import</span> <span class="n">division</span><span class="p">,</span> <span class="n">print_function</span><span class="p">,</span> <span class="n">absolute_import</span><span class="p">,</span> <span class="n">unicode_literals</span>

<span class="c1"># The package for accessing files in directories, etc.:</span>
<span class="kn">import</span> <span class="nn">os</span>
<span class="kn">import</span> <span class="nn">zipfile</span>

<span class="c1"># Warning package in case something goes wrong</span>
<span class="kn">from</span> <span class="nn">warnings</span> <span class="kn">import</span> <span class="n">warn</span>
<span class="kn">import</span> <span class="nn">subprocess</span>
<span class="kn">import</span> <span class="nn">sys</span>


<span class="k">def</span> <span class="nf">install</span><span class="p">(</span><span class="n">package</span><span class="p">):</span>
    <span class="n">subprocess</span><span class="o">.</span><span class="n">call</span><span class="p">([</span><span class="n">sys</span><span class="o">.</span><span class="n">executable</span><span class="p">,</span> <span class="s2">&quot;-m&quot;</span><span class="p">,</span> <span class="s2">&quot;pip&quot;</span><span class="p">,</span> <span class="s2">&quot;install&quot;</span><span class="p">,</span> <span class="n">package</span><span class="p">])</span>
<span class="c1"># Package for downloading online files:</span>
<span class="k">try</span><span class="p">:</span>
    <span class="c1"># This package is not part of anaconda and may need to be installed.</span>
    <span class="kn">import</span> <span class="nn">wget</span>
<span class="k">except</span> <span class="ne">ImportError</span><span class="p">:</span>
    <span class="n">warn</span><span class="p">(</span><span class="s1">&#39;wget not found.  Will install with pip.&#39;</span><span class="p">)</span>
    <span class="kn">import</span> <span class="nn">pip</span>
    <span class="n">install</span><span class="p">(</span><span class="n">wget</span><span class="p">)</span>
    <span class="kn">import</span> <span class="nn">wget</span>

<span class="c1"># The mathematical computation package:</span>
<span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>

<span class="c1"># The package used for creating and manipulating HDF5 files:</span>
<span class="kn">import</span> <span class="nn">h5py</span>

<span class="c1"># Packages for plotting:</span>
<span class="kn">import</span> <span class="nn">matplotlib.pyplot</span> <span class="k">as</span> <span class="nn">plt</span>

<span class="c1"># import sidpy - supporting package for pyUSID:</span>
<span class="k">try</span><span class="p">:</span>
    <span class="kn">import</span> <span class="nn">sidpy</span>
<span class="k">except</span> <span class="ne">ImportError</span><span class="p">:</span>
    <span class="n">warn</span><span class="p">(</span><span class="s1">&#39;sidpy not found.  Will install with pip.&#39;</span><span class="p">)</span>
    <span class="kn">import</span> <span class="nn">pip</span>
    <span class="n">install</span><span class="p">(</span><span class="s1">&#39;sidpy&#39;</span><span class="p">)</span>
    <span class="kn">import</span> <span class="nn">sidpy</span>
</pre></div>
</div>
</div>
<div class="section" id="procure-the-raw-data-file">
<h3>Procure the Raw Data file<a class="headerlink" href="#procure-the-raw-data-file" title="Permalink to this headline">¶</a></h3>
<p>Here we will download a compressed data file from Github and unpack it:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">url</span> <span class="o">=</span> <span class="s1">&#39;https://raw.githubusercontent.com/pycroscopy/pyUSID/master/data/STS.zip&#39;</span>
<span class="n">zip_path</span> <span class="o">=</span> <span class="s1">&#39;STS.zip&#39;</span>
<span class="k">if</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">exists</span><span class="p">(</span><span class="n">zip_path</span><span class="p">):</span>
    <span class="n">os</span><span class="o">.</span><span class="n">remove</span><span class="p">(</span><span class="n">zip_path</span><span class="p">)</span>
<span class="n">_</span> <span class="o">=</span> <span class="n">wget</span><span class="o">.</span><span class="n">download</span><span class="p">(</span><span class="n">url</span><span class="p">,</span> <span class="n">zip_path</span><span class="p">,</span> <span class="n">bar</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span>

<span class="n">zip_path</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">abspath</span><span class="p">(</span><span class="n">zip_path</span><span class="p">)</span>
<span class="c1"># figure out the folder to unzip the zip file to</span>
<span class="n">folder_path</span><span class="p">,</span> <span class="n">_</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="n">zip_path</span><span class="p">)</span>
<span class="n">zip_ref</span> <span class="o">=</span> <span class="n">zipfile</span><span class="o">.</span><span class="n">ZipFile</span><span class="p">(</span><span class="n">zip_path</span><span class="p">,</span> <span class="s1">&#39;r&#39;</span><span class="p">)</span>
<span class="c1"># unzip the file</span>
<span class="n">zip_ref</span><span class="o">.</span><span class="n">extractall</span><span class="p">(</span><span class="n">folder_path</span><span class="p">)</span>
<span class="n">zip_ref</span><span class="o">.</span><span class="n">close</span><span class="p">()</span>
<span class="c1"># delete the zip file</span>
<span class="n">os</span><span class="o">.</span><span class="n">remove</span><span class="p">(</span><span class="n">zip_path</span><span class="p">)</span>

<span class="n">data_file_path</span> <span class="o">=</span> <span class="s1">&#39;STS.asc&#39;</span>
</pre></div>
</div>
</div>
</div>
<div class="section" id="extracting-data-and-metadata-from-proprietary-files">
<h2>1. Extracting data and metadata from proprietary files<a class="headerlink" href="#extracting-data-and-metadata-from-proprietary-files" title="Permalink to this headline">¶</a></h2>
<div class="section" id="explore-the-raw-data-file">
<h3>1.1 Explore the raw data file<a class="headerlink" href="#explore-the-raw-data-file" title="Permalink to this headline">¶</a></h3>
<p>Inherently, one may not know how to read these <code class="docutils literal notranslate"><span class="pre">.asc</span></code> files. One option is to try and read the file as a text file
one line at a time.</p>
<p>If one is lucky, as in the case of these <code class="docutils literal notranslate"><span class="pre">.asc</span></code> files, the file can be read like conventional text files.</p>
<p>Here is how we tested to see if the <code class="docutils literal notranslate"><span class="pre">asc</span></code> files could be interpreted as text files. Below, we read just the first 10
lines in the file</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="n">data_file_path</span><span class="p">,</span> <span class="s1">&#39;r&#39;</span><span class="p">)</span> <span class="k">as</span> <span class="n">file_handle</span><span class="p">:</span>
    <span class="k">for</span> <span class="n">lin_ind</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">10</span><span class="p">):</span>
        <span class="nb">print</span><span class="p">(</span><span class="n">file_handle</span><span class="o">.</span><span class="n">readline</span><span class="p">()</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s1">&#39;</span><span class="se">\n</span><span class="s1">&#39;</span><span class="p">,</span> <span class="s1">&#39;&#39;</span><span class="p">))</span>
</pre></div>
</div>
<p class="sphx-glr-script-out">Out:</p>
<div class="sphx-glr-script-out highlight-none notranslate"><div class="highlight"><pre><span></span># File Format = ASCII
# Created by SPIP 4.6.5.0 2016-09-22 13:32
# Original file: C:\Users\Administrator\AppData\Roaming\Omicron NanoTechnology\MATRIX\default\Results\16-Sep-2016\I(V) TraceUp Tue Sep 20 09.17.08 2016 [14-1]  STM_Spectroscopy STM
# x-pixels = 100
# y-pixels = 100
# x-length = 29.7595
# y-length = 29.7595
# x-offset = -967.807
# y-offset = -781.441
# z-points = 500
</pre></div>
</div>
</div>
<div class="section" id="read-the-contents-of-the-file">
<h3>1.2 Read the contents of the file<a class="headerlink" href="#read-the-contents-of-the-file" title="Permalink to this headline">¶</a></h3>
<p>Now that we know that these files are simple text files, we can manually go through the file to find out which lines
are important, at what lines the data starts etc.
Manual investigation of such <code class="docutils literal notranslate"><span class="pre">.asc</span></code> files revealed that these files are always formatted in the same way. Also, they
contain instrument- and experiment-related parameters in the first <code class="docutils literal notranslate"><span class="pre">403</span></code> lines and then contain data which is
arranged as one pixel per row.</p>
<p>STS experiments result in 3 dimensional datasets <code class="docutils literal notranslate"><span class="pre">(X,</span> <span class="pre">Y,</span> <span class="pre">current)</span></code>. In other words, a 1D array of current data (as a
function of excitation bias) is sampled at every location on a two dimensional grid of points on the sample.
By knowing where the parameters are located and how the data is structured, it is possible to extract the necessary
information from these files.</p>
<p>Since we know that the data sizes (&lt;200 MB) are much smaller than the physical memory of most computers, we can start
by safely loading the contents of the entire file to memory.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="c1"># Reading the entire file into memory</span>
<span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="n">data_file_path</span><span class="p">,</span> <span class="s1">&#39;r&#39;</span><span class="p">)</span> <span class="k">as</span> <span class="n">file_handle</span><span class="p">:</span>
    <span class="n">string_lines</span> <span class="o">=</span> <span class="n">file_handle</span><span class="o">.</span><span class="n">readlines</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="section" id="extract-the-metadata">
<h3>1.3 Extract the metadata<a class="headerlink" href="#extract-the-metadata" title="Permalink to this headline">¶</a></h3>
<p>In the case of these <code class="docutils literal notranslate"><span class="pre">.asc</span></code> files, the parameters are present in the first few lines of the file. Below we will
demonstrate how we parse the first 17 lines to extract some very important parameters. Note that there are several
other important parameters in the next 350 or so lines. However, in the interest of brevity, we will focus only on the
first few lines of the file. The interested reader is recommended to read the <code class="docutils literal notranslate"><span class="pre">ASCTranslator</span></code> available in
<code class="docutils literal notranslate"><span class="pre">pycroscopy</span></code> for more complete details.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="c1"># Preparing an empty dictionary to store the metadata / parameters as key-value pairs</span>
<span class="n">parm_dict</span> <span class="o">=</span> <span class="nb">dict</span><span class="p">()</span>

<span class="c1"># Reading parameters stored in the first few rows of the file</span>
<span class="k">for</span> <span class="n">line</span> <span class="ow">in</span> <span class="n">string_lines</span><span class="p">[</span><span class="mi">3</span><span class="p">:</span><span class="mi">17</span><span class="p">]:</span>
    <span class="c1"># Remove the hash / pound symbol, if any</span>
    <span class="n">line</span> <span class="o">=</span> <span class="n">line</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s1">&#39;# &#39;</span><span class="p">,</span> <span class="s1">&#39;&#39;</span><span class="p">)</span>
    <span class="c1"># Remove new-line escape-character, if any</span>
    <span class="n">line</span> <span class="o">=</span> <span class="n">line</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s1">&#39;</span><span class="se">\n</span><span class="s1">&#39;</span><span class="p">,</span> <span class="s1">&#39;&#39;</span><span class="p">)</span>
    <span class="c1"># Break the line into two parts - the parameter name and the corresponding value</span>
    <span class="n">temp</span> <span class="o">=</span> <span class="n">line</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s1">&#39;=&#39;</span><span class="p">)</span>
    <span class="c1"># Remove spaces in the value. Remember, the value is still a string and not a number</span>
    <span class="n">test</span> <span class="o">=</span> <span class="n">temp</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">strip</span><span class="p">()</span>
    <span class="c1"># Now, attempt to convert the value to a number (floating point):</span>
    <span class="k">try</span><span class="p">:</span>
        <span class="n">test</span> <span class="o">=</span> <span class="nb">float</span><span class="p">(</span><span class="n">test</span><span class="p">)</span>
        <span class="c1"># In certain cases, the number is actually an integer, check and convert if it is:</span>
        <span class="k">if</span> <span class="n">test</span> <span class="o">%</span> <span class="mi">1</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>
            <span class="n">test</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="n">test</span><span class="p">)</span>
    <span class="k">except</span> <span class="ne">ValueError</span><span class="p">:</span>
        <span class="k">pass</span>
    <span class="n">parm_dict</span><span class="p">[</span><span class="n">temp</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">strip</span><span class="p">()]</span> <span class="o">=</span> <span class="n">test</span>

<span class="c1"># Print out the parameters extracted</span>
<span class="k">for</span> <span class="n">key</span> <span class="ow">in</span> <span class="n">parm_dict</span><span class="o">.</span><span class="n">keys</span><span class="p">():</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">key</span><span class="p">,</span> <span class="s1">&#39;:</span><span class="se">\t</span><span class="s1">&#39;</span><span class="p">,</span> <span class="n">parm_dict</span><span class="p">[</span><span class="n">key</span><span class="p">])</span>
</pre></div>
</div>
<p class="sphx-glr-script-out">Out:</p>
<div class="sphx-glr-script-out highlight-none notranslate"><div class="highlight"><pre><span></span>x-pixels :       100
y-pixels :       100
x-length :       29.7595
y-length :       29.7595
x-offset :       -967.807
y-offset :       -781.441
z-points :       500
z-section :      491
z-unit :         nV
z-range :        2000000000
z-offset :       1116.49
value-unit :     nA
scanspeed :      59519000000
voidpixels :     0
</pre></div>
</div>
<p>At this point, we recommend reformatting the parameter names to standardized nomenclature.
We realize that the materials imaging community has not yet agreed upon standardized nomenclature for metadata.
Therefore, we leave this as an optional, yet recommended step.
For example, in pycroscopy, we may categorize the number of rows and columns in an image under <code class="docutils literal notranslate"><span class="pre">grid</span></code> and
data sampling parameters under <code class="docutils literal notranslate"><span class="pre">IO</span></code>.
As an example, we may rename <code class="docutils literal notranslate"><span class="pre">x-pixels</span></code> to <code class="docutils literal notranslate"><span class="pre">positions_num_cols</span></code> and <code class="docutils literal notranslate"><span class="pre">y-pixels</span></code> to <code class="docutils literal notranslate"><span class="pre">positions_num_rows</span></code>.</p>
</div>
<div class="section" id="extract-parameters-that-define-dimensions">
<h3>1.4 Extract parameters that define dimensions<a class="headerlink" href="#extract-parameters-that-define-dimensions" title="Permalink to this headline">¶</a></h3>
<p>Just having the metadata above and the main measurement data is insufficient to fully describe experimental data.
We also need to know how the experimental parameters were varied to acquire the multidimensional dataset at hand.
In other words, we need to answer how the grid of locations was defined and how the bias was varied to acquire the
current information at each location. This is precisely what we will do below.</p>
<p>Since, we did not parse the entire list of parameters present in the file above, we will need to make some up.
Please refer to the formal <code class="docutils literal notranslate"><span class="pre">ASCTranslator</span></code> to see how this step would have been different.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">num_rows</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="n">parm_dict</span><span class="p">[</span><span class="s1">&#39;y-pixels&#39;</span><span class="p">])</span>
<span class="n">num_cols</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="n">parm_dict</span><span class="p">[</span><span class="s1">&#39;x-pixels&#39;</span><span class="p">])</span>
<span class="n">num_pos</span> <span class="o">=</span> <span class="n">num_rows</span> <span class="o">*</span> <span class="n">num_cols</span>
<span class="n">spectra_length</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="n">parm_dict</span><span class="p">[</span><span class="s1">&#39;z-points&#39;</span><span class="p">])</span>

<span class="c1"># We will assume that data was collected from -3 nm to +7 nm on the Y-axis or along the rows</span>
<span class="n">y_vec</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">linspace</span><span class="p">(</span><span class="o">-</span><span class="mi">3</span><span class="p">,</span> <span class="mi">7</span><span class="p">,</span> <span class="n">num_rows</span><span class="p">,</span> <span class="n">endpoint</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>

<span class="c1"># We will assume that data was collected from -5 nm to +5 nm on the X-axis or along the columns</span>
<span class="n">x_vec</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">linspace</span><span class="p">(</span><span class="o">-</span><span class="mi">5</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="n">num_cols</span><span class="p">,</span> <span class="n">endpoint</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>

<span class="c1"># The bias was sampled from -1 to +1 V in the experiment. Here is how we generate the Bias axis:</span>
<span class="n">bias_vec</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">linspace</span><span class="p">(</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="n">spectra_length</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="section" id="extract-the-data">
<h3>1.5 Extract the data<a class="headerlink" href="#extract-the-data" title="Permalink to this headline">¶</a></h3>
<p>We have observed that the data in these <code class="docutils literal notranslate"><span class="pre">.asc</span></code> files are consistently present after the first <code class="docutils literal notranslate"><span class="pre">403</span></code> lines of
parameters. Using this knowledge, we need to populate a data array using data that is currently present as text lines
in memory (from step 2).</p>
<p>These <code class="docutils literal notranslate"><span class="pre">.asc</span></code> file store the 3D data (X, Y, spectra) as a 2D matrix (positions, spectra). In other words, the spectra
are arranged one below another. Thus, reading the 2D matrix from top to bottom, the data arranged column-by-column,
and then row-by-row So, for simplicity, we will prepare an empty 2D numpy array to store the data as it exists in the
raw data file.</p>
<p>Recall that in step 2, we were lucky enough to read the entire data file into memory given its small size.
The data is already present in memory as a list of strings that need to be parsed as a matrix of numbers.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">num_headers</span> <span class="o">=</span> <span class="mi">403</span>

<span class="n">raw_data_2d</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">zeros</span><span class="p">(</span><span class="n">shape</span><span class="o">=</span><span class="p">(</span><span class="n">num_pos</span><span class="p">,</span> <span class="n">spectra_length</span><span class="p">),</span> <span class="n">dtype</span><span class="o">=</span><span class="n">np</span><span class="o">.</span><span class="n">float32</span><span class="p">)</span>

<span class="c1"># Iterate over ever measurement position:</span>
<span class="k">for</span> <span class="n">pos_index</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">num_pos</span><span class="p">):</span>
    <span class="c1"># First, get the correct (string) line corresponding to the current measurement position.</span>
    <span class="c1"># Recall that we would need to skip the many header lines to get to the data</span>
    <span class="n">this_line</span> <span class="o">=</span> <span class="n">string_lines</span><span class="p">[</span><span class="n">num_headers</span> <span class="o">+</span> <span class="n">pos_index</span><span class="p">]</span>
    <span class="c1"># Each (string) line contains numbers separated by tabs (``\t``). Let us break the line into several shorter strings</span>
    <span class="c1"># each containing one number. We will ignore the last entry since it is empty.</span>
    <span class="n">string_spectrum</span> <span class="o">=</span> <span class="n">this_line</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s1">&#39;</span><span class="se">\t</span><span class="s1">&#39;</span><span class="p">)[:</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span>  <span class="c1"># omitting the new line</span>
    <span class="c1"># Now that we have a list of numbers represented as strings, we need to convert this list to a 1D numpy array</span>
    <span class="c1"># the converted array is set to the appropriate position in the main 2D array.</span>
    <span class="n">raw_data_2d</span><span class="p">[</span><span class="n">pos_index</span><span class="p">]</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">(</span><span class="n">string_spectrum</span><span class="p">,</span> <span class="n">dtype</span><span class="o">=</span><span class="n">np</span><span class="o">.</span><span class="n">float32</span><span class="p">)</span>
</pre></div>
</div>
<p>If the data is so large that it cannot fit into memory, we would need to read data one (or a few) position(s) at a
time, process it (e.g. convert from string to numbers), and write it to the HDF5 file without keeping much or any data
in memory.</p>
<p>The three-dimensional dataset (<code class="docutils literal notranslate"><span class="pre">Y</span></code>, <code class="docutils literal notranslate"><span class="pre">X</span></code>, <code class="docutils literal notranslate"><span class="pre">Bias</span></code>) is currently represented as a two-dimensional array:
(<code class="docutils literal notranslate"><span class="pre">X</span></code> * <code class="docutils literal notranslate"><span class="pre">Y</span></code>, <code class="docutils literal notranslate"><span class="pre">Bias</span></code>). To make it easier for us to understand and visualize, we can turn it into a 3D array:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">raw_data_3d</span> <span class="o">=</span> <span class="n">raw_data_2d</span><span class="o">.</span><span class="n">reshape</span><span class="p">(</span><span class="n">num_rows</span><span class="p">,</span> <span class="n">num_cols</span><span class="p">,</span> <span class="n">spectra_length</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s1">&#39;Shape of 2D data: </span><span class="si">{}</span><span class="s1">, Shape of 3D data: </span><span class="si">{}</span><span class="s1">&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">raw_data_2d</span><span class="o">.</span><span class="n">shape</span><span class="p">,</span> <span class="n">raw_data_3d</span><span class="o">.</span><span class="n">shape</span><span class="p">))</span>
</pre></div>
</div>
<p class="sphx-glr-script-out">Out:</p>
<div class="sphx-glr-script-out highlight-none notranslate"><div class="highlight"><pre><span></span>Shape of 2D data: (10000, 500), Shape of 3D data: (100, 100, 500)
</pre></div>
</div>
<p>Just as we did for the parameters (<code class="docutils literal notranslate"><span class="pre">X</span></code>, <code class="docutils literal notranslate"><span class="pre">Y</span></code>, and <code class="docutils literal notranslate"><span class="pre">Bias</span></code>) that were varied in the experiment,
we need to specify the quantity that is recorded from the sensors / detectors, units, and what the data
represents:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">main_data_name</span> <span class="o">=</span> <span class="s1">&#39;STS&#39;</span>
<span class="n">main_qty</span> <span class="o">=</span> <span class="s1">&#39;Current&#39;</span>
<span class="n">main_units</span> <span class="o">=</span> <span class="s1">&#39;nA&#39;</span>
</pre></div>
</div>
</div>
<div class="section" id="visualize-the-extracted-data">
<h3>Visualize the extracted data<a class="headerlink" href="#visualize-the-extracted-data" title="Permalink to this headline">¶</a></h3>
<p>Here is a visualization of the current-voltage spectra at a few locations:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">fig</span><span class="p">,</span> <span class="n">axes</span> <span class="o">=</span> <span class="n">sidpy</span><span class="o">.</span><span class="n">plot_utils</span><span class="o">.</span><span class="n">plot_curves</span><span class="p">(</span><span class="n">bias_vec</span><span class="p">,</span> <span class="n">raw_data_2d</span><span class="p">,</span> <span class="n">num_plots</span><span class="o">=</span><span class="mi">9</span><span class="p">,</span>
                                        <span class="n">x_label</span><span class="o">=</span><span class="s1">&#39;bias (V)&#39;</span><span class="p">,</span>
                                        <span class="n">y_label</span><span class="o">=</span><span class="n">main_qty</span> <span class="o">+</span> <span class="s1">&#39;(&#39;</span> <span class="o">+</span> <span class="n">main_units</span> <span class="o">+</span> <span class="s1">&#39;)&#39;</span><span class="p">,</span>
                                        <span class="n">title</span><span class="o">=</span><span class="s1">&#39;Current-Voltage Spectra at different locations&#39;</span><span class="p">,</span>
                                        <span class="n">fig_title_yoffset</span><span class="o">=</span><span class="mf">1.05</span><span class="p">)</span>
</pre></div>
</div>
<img alt="Current-Voltage Spectra at different locations, Position 0, Position 1249, Position 2499, Position 3749, Position 4999, Position 6249, Position 7499, Position 8749, Position 9999" class="sphx-glr-single-img" src="../_images/sphx_glr_plot_example_reader_001.png" />
<p>Here is a visualization of spatial maps at different bias values</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">fig</span><span class="p">,</span> <span class="n">axes</span> <span class="o">=</span> <span class="n">sidpy</span><span class="o">.</span><span class="n">plot_utils</span><span class="o">.</span><span class="n">plot_map_stack</span><span class="p">(</span><span class="n">raw_data_3d</span><span class="p">,</span> <span class="n">reverse_dims</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">pad_mult</span><span class="o">=</span><span class="p">(</span><span class="mf">0.15</span><span class="p">,</span> <span class="mf">0.15</span><span class="p">),</span>
                                           <span class="n">title</span><span class="o">=</span><span class="s1">&#39;Spatial maps of current at different bias&#39;</span><span class="p">,</span> <span class="n">stdevs</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span>
                                           <span class="n">color_bar_mode</span><span class="o">=</span><span class="s1">&#39;single&#39;</span><span class="p">,</span> <span class="n">num_ticks</span><span class="o">=</span><span class="mi">3</span><span class="p">,</span> <span class="n">x_vec</span><span class="o">=</span><span class="n">x_vec</span><span class="p">,</span> <span class="n">y_vec</span><span class="o">=</span><span class="n">y_vec</span><span class="p">,</span>
                                           <span class="n">evenly_spaced</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">fig_mult</span><span class="o">=</span><span class="p">(</span><span class="mi">3</span><span class="p">,</span> <span class="mi">3</span><span class="p">),</span> <span class="n">title_yoffset</span><span class="o">=</span><span class="mf">0.95</span><span class="p">)</span>

<span class="k">for</span> <span class="n">axis</span><span class="p">,</span> <span class="n">bias_ind</span> <span class="ow">in</span> <span class="nb">zip</span><span class="p">(</span><span class="n">axes</span><span class="p">,</span> <span class="n">np</span><span class="o">.</span><span class="n">linspace</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="nb">len</span><span class="p">(</span><span class="n">bias_vec</span><span class="p">),</span> <span class="mi">9</span><span class="p">,</span> <span class="n">endpoint</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">dtype</span><span class="o">=</span><span class="n">np</span><span class="o">.</span><span class="n">uint</span><span class="p">)):</span>
    <span class="n">axis</span><span class="o">.</span><span class="n">set_title</span><span class="p">(</span><span class="s1">&#39;Bias = </span><span class="si">%3.2f</span><span class="s1"> V&#39;</span> <span class="o">%</span> <span class="n">bias_vec</span><span class="p">[</span><span class="n">bias_ind</span><span class="p">])</span>
</pre></div>
</div>
<img alt="Spatial maps of current at different bias, Bias = -1.00 V, Bias = -0.78 V, Bias = -0.56 V, Bias = -0.33 V, Bias = -0.11 V, Bias = 0.11 V, Bias = 0.33 V, Bias = 0.56 V, Bias = 0.78 V" class="sphx-glr-single-img" src="../_images/sphx_glr_plot_example_reader_002.png" />
<p class="sphx-glr-script-out">Out:</p>
<div class="sphx-glr-script-out highlight-none notranslate"><div class="highlight"><pre><span></span>/home/travis/virtualenv/python3.7.1/lib/python3.7/site-packages/sidpy/viz/plot_utils/image.py:378: MatplotlibDeprecationWarning:
The &#39;add_all&#39; parameter of __init__() was deprecated in Matplotlib 3.3 and will be removed two minor releases later. If any parameter follows &#39;add_all&#39;, they should be passed as keyword, not positionally.
  **igkwargs)
/home/travis/virtualenv/python3.7.1/lib/python3.7/site-packages/sidpy/viz/plot_utils/image.py:404: MatplotlibDeprecationWarning: Since 3.2, mpl_toolkits&#39;s own colorbar implementation is deprecated; it will be removed two minor releases later.  Set the &#39;mpl_toolkits.legacy_colorbar&#39; rcParam to False to use Matplotlib&#39;s default colorbar implementation and suppress this deprecation warning.
  cb = axes.cbar_axes[0].colorbar(im)
/home/travis/virtualenv/python3.7.1/lib/python3.7/site-packages/mpl_toolkits/axes_grid1/axes_grid.py:46: MatplotlibDeprecationWarning:
The mpl_toolkits.axes_grid1.colorbar module was deprecated in Matplotlib 3.2 and will be removed two minor releases later. Use matplotlib.colorbar instead.
  from .colorbar import Colorbar
</pre></div>
</div>
</div>
<div class="section" id="populating-the-dataset-object">
<h3>2. Populating the <code class="docutils literal notranslate"><span class="pre">Dataset</span></code> object<a class="headerlink" href="#populating-the-dataset-object" title="Permalink to this headline">¶</a></h3>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">data_set</span> <span class="o">=</span> <span class="n">sidpy</span><span class="o">.</span><span class="n">Dataset</span><span class="o">.</span><span class="n">from_array</span><span class="p">(</span><span class="n">raw_data_3d</span><span class="p">,</span> <span class="n">name</span><span class="o">=</span><span class="s1">&#39;Raw_Data&#39;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">data_set</span><span class="p">)</span>
</pre></div>
</div>
<p class="sphx-glr-script-out">Out:</p>
<div class="sphx-glr-script-out highlight-none notranslate"><div class="highlight"><pre><span></span>dask.array&lt;Raw_Data, shape=(100, 100, 500), dtype=float32, chunksize=(5, 100, 500), chunktype=numpy.ndarray&gt;
</pre></div>
</div>
<p>Dimensions</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">data_set</span><span class="o">.</span><span class="n">set_dimension</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="n">sidpy</span><span class="o">.</span><span class="n">Dimension</span><span class="p">(</span><span class="s1">&#39;y&#39;</span><span class="p">,</span> <span class="n">y_vec</span><span class="p">,</span><span class="n">units</span><span class="o">=</span><span class="s1">&#39;nm&#39;</span><span class="p">,</span>
                                          <span class="n">quantity</span><span class="o">=</span><span class="s1">&#39;Length&#39;</span><span class="p">,</span>
                                          <span class="n">dimension_type</span><span class="o">=</span><span class="s1">&#39;spatial&#39;</span><span class="p">))</span>
<span class="n">data_set</span><span class="o">.</span><span class="n">set_dimension</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="n">sidpy</span><span class="o">.</span><span class="n">Dimension</span><span class="p">(</span><span class="s1">&#39;x&#39;</span><span class="p">,</span> <span class="n">x_vec</span><span class="p">,</span> <span class="n">units</span><span class="o">=</span><span class="s1">&#39;nm&#39;</span><span class="p">,</span>
                                          <span class="n">quantity</span><span class="o">=</span><span class="s1">&#39;Length&#39;</span><span class="p">,</span>
                                          <span class="n">dimension_type</span><span class="o">=</span><span class="s1">&#39;spatial&#39;</span><span class="p">))</span>
<span class="n">data_set</span><span class="o">.</span><span class="n">set_dimension</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="n">sidpy</span><span class="o">.</span><span class="n">Dimension</span><span class="p">(</span><span class="s1">&#39;bias&#39;</span><span class="p">,</span> <span class="n">bias_vec</span><span class="p">,</span>
                                          <span class="n">quantity</span><span class="o">=</span><span class="s1">&#39;Bias&#39;</span><span class="p">,</span>
                                          <span class="n">dimension_type</span><span class="o">=</span><span class="s1">&#39;spectral&#39;</span><span class="p">))</span>
</pre></div>
</div>
<p>Generic top level metadata can be added as you go along</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">data_set</span><span class="o">.</span><span class="n">data_type</span> <span class="o">=</span> <span class="s1">&#39;Current&#39;</span>
<span class="n">data_set</span><span class="o">.</span><span class="n">units</span> <span class="o">=</span> <span class="n">main_units</span>
<span class="n">data_set</span><span class="o">.</span><span class="n">quantity</span> <span class="o">=</span> <span class="n">main_qty</span>
</pre></div>
</div>
<p>Instrument-specific metadata</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">data_set</span><span class="o">.</span><span class="n">metadata</span> <span class="o">=</span> <span class="n">parm_dict</span>
</pre></div>
</div>
<p>Print the dataset object</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="nb">print</span><span class="p">(</span><span class="n">data_set</span><span class="p">)</span>
</pre></div>
</div>
<p class="sphx-glr-script-out">Out:</p>
<div class="sphx-glr-script-out highlight-none notranslate"><div class="highlight"><pre><span></span>dask.array&lt;Raw_Data, shape=(100, 100, 500), dtype=float32, chunksize=(5, 100, 500), chunktype=numpy.ndarray&gt;
</pre></div>
</div>
<p>Visualize the dataset object</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">data_set</span><span class="o">.</span><span class="n">plot</span><span class="p">()</span>
</pre></div>
</div>
<div class="sphx-glr-script-out highlight-pytb notranslate"><div class="highlight"><pre><span></span><span class="gt">Traceback (most recent call last):</span>
  File <span class="nb">&quot;/home/travis/build/pycroscopy/ScopeReaders/examples/plot_example_reader.py&quot;</span>, line <span class="m">357</span>, in <span class="n">&lt;module&gt;</span>
    <span class="n">data_set</span><span class="o">.</span><span class="n">plot</span><span class="p">()</span>
<span class="gr">AttributeError</span>: <span class="n">&#39;Dataset&#39; object has no attribute &#39;plot&#39;</span>
</pre></div>
</div>
<p>How does one turn such ad-hoc code into a <code class="docutils literal notranslate"><span class="pre">Reader</span></code> class?</p>
</div>
<div class="section" id="more-information">
<h3>More information<a class="headerlink" href="#more-information" title="Permalink to this headline">¶</a></h3>
<p>Our sister class - pycroscopy, has several
<a class="reference external" href="https://github.com/pycroscopy/pycroscopy/tree/master/pycroscopy/io/translators">translators</a> that translate popular
file formats generated by nanoscale imaging instruments.
These will be moved to ScopeReaders soon</p>
<p>We have found python packages online to open a few proprietary file formats and have written translators using these
packages. If you are having trouble reading the data in your files and cannot find any packages online, consider
contacting the manufacturer of the instrument which generated the data in the proprietary format for help.</p>
</div>
<div class="section" id="cleaning-up">
<h3>Cleaning up<a class="headerlink" href="#cleaning-up" title="Permalink to this headline">¶</a></h3>
<p>Remove the original file:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">os</span><span class="o">.</span><span class="n">remove</span><span class="p">(</span><span class="n">data_file_path</span><span class="p">)</span>
</pre></div>
</div>
<p class="sphx-glr-timing"><strong>Total running time of the script:</strong> ( 0 minutes  3.451 seconds)</p>
<div class="sphx-glr-footer class sphx-glr-footer-example docutils container" id="sphx-glr-download-auto-examples-plot-example-reader-py">
<div class="sphx-glr-download sphx-glr-download-python docutils container">
<p><a class="reference download internal" download="" href="../_downloads/2bd0afeff04423bde19868bccafefba6/plot_example_reader.py"><code class="xref download docutils literal notranslate"><span class="pre">Download</span> <span class="pre">Python</span> <span class="pre">source</span> <span class="pre">code:</span> <span class="pre">plot_example_reader.py</span></code></a></p>
</div>
<div class="sphx-glr-download sphx-glr-download-jupyter docutils container">
<p><a class="reference download internal" download="" href="../_downloads/aaf73c8478d5ddd9d8e72bc591414b01/plot_example_reader.ipynb"><code class="xref download docutils literal notranslate"><span class="pre">Download</span> <span class="pre">Jupyter</span> <span class="pre">notebook:</span> <span class="pre">plot_example_reader.ipynb</span></code></a></p>
</div>
</div>
<p class="sphx-glr-signature"><a class="reference external" href="https://sphinx-gallery.github.io">Gallery generated by Sphinx-Gallery</a></p>
</div>
</div>
</div>


           </div>
           
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="plot_dm3_reader.html" class="btn btn-neutral float-right" title="Using a Reader" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="index.html" class="btn btn-neutral float-left" title="Examples &amp; Tutorials" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        
        &copy; Copyright 2020, Pycroscopy contributors

    </p>
  </div>
    
    
    
    Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a
    
    <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a>
    
    provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  

  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>